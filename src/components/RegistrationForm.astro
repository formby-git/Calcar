---

---

<div
  class="bg-swiss-white p-5 md:p-6 border border-swiss-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]"
>
  <label
    for="reg-input"
    class="block text-sm font-bold font-grotesk uppercase tracking-widest text-swiss-black mb-4 flex items-center gap-2"
  >
    <div class="w-3 h-3 bg-swiss-blue"></div>
    Input Registration
  </label>

  <div class="flex flex-col md:flex-row gap-0 border border-swiss-black">
    <input
      type="text"
      id="reg-input"
      placeholder="ENTER REG"
      class="flex-1 px-4 py-3 bg-white text-xl font-mono text-swiss-black placeholder:text-gray-400 focus:outline-none focus:bg-swiss-blue/5 uppercase tracking-wider rounded-none"
      maxlength="8"
    />
    <button
      id="lookup-btn"
      class="bg-swiss-black hover:bg-swiss-blue text-white px-6 py-3 font-mono font-bold uppercase tracking-wider text-sm transition-colors duration-200 border-l-0 md:border-l border-t md:border-t-0 border-swiss-black flex items-center justify-center gap-2 rounded-none"
    >
      <span>Analyze</span>
      <span>â†’</span>
    </button>
  </div>
  <div
    id="error-msg"
    class="text-white bg-red-600 font-mono text-sm mt-4 p-2 hidden border border-swiss-black"
  >
  </div>
</div>

<script>
  const input = document.getElementById("reg-input") as HTMLInputElement;
  const btn = document.getElementById("lookup-btn");
  const errorMsg = document.getElementById("error-msg");

  btn?.addEventListener("click", () => {
    const reg = input.value.trim().toUpperCase();
    if (!reg) return;

    // Validation: Alphanumeric and spaces only
    const regPattern = /^[A-Z0-9 ]+$/;
    if (!regPattern.test(reg)) {
      if (errorMsg) {
        errorMsg.textContent =
          "Invalid registration format (Alphanumeric only)";
        errorMsg.classList.remove("hidden");
      }
      return;
    }

    if (btn) btn.textContent = "Loading...";
    if (errorMsg) errorMsg.classList.add("hidden");

    // sanitize reg
    const cleanReg = reg.replace(/\s/g, "");

    // Redirect to analysis page
    window.location.href = `/analyse/uk/${cleanReg}`;
  });
</script>
